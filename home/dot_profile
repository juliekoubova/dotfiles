#!/bin/sh
export ENV="${HOME}/.shrc"
export XDG_CACHE_HOME="${HOME}/.cache"
export XDG_CONFIG_HOME="${HOME}/.config"
export ZDOTDIR="${XDG_CONFIG_HOME}/zsh"

if test `uname` = "FreeBSD" && test "${TERM}" = "foot"; then
  export TERM="xterm-256color"
fi

if command -v ssh-agent > /dev/null && test -z "${SSH_AGENT_PID}"; then
  eval $(ssh-agent)
fi

if test "$TTY" = "/dev/tty1"; then
  if command -v sway > /dev/null; then
    if command -v dbus-run-session > /dev/null; then
       dbus-run-session -- sway > /var/log/sway.log 2>&1
       exec clear
    else
      sway > /var/log/sway.log 2>&1
      exec clear
    fi
  fi
fi
